{"remainingRequest":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\src\\services\\bookService.js","dependencies":[{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\src\\services\\bookService.js","mtime":1593343117298},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjovRGV2L0NvZGluZyBBY2FkZW15IGV4L0RheTEwNy1WdWVXb3Jrc2hvcC9taXNzLWJvb2svZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3NlcnZpY2VzL3V0aWxzLnNlcnZpY2UuanMnOwppbXBvcnQgQXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgYm9va3M6IGJvb2tzLAogIHF1ZXJ5OiBxdWVyeSwKICBnZXRCeUlkOiBnZXRCeUlkLAogIGFkZFJldmlldzogYWRkUmV2aWV3LAogIHJlbW92ZVJldmlldzogcmVtb3ZlUmV2aWV3LAogIGFkZEdvb2dsZUJvb2s6IGFkZEdvb2dsZUJvb2ssCiAgZmluZE5leHRCb29rOiBmaW5kTmV4dEJvb2sKfTsKdmFyIEtFWSA9ICdib29rcyc7CnZhciBCQVNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMzAvYXBpL2Jvb2tzJzsKdmFyIGJvb2tzID0gbnVsbDsKCmZ1bmN0aW9uIHF1ZXJ5KCkgewogIHJldHVybiBfcXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3F1ZXJ5KCkgewogIF9xdWVyeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciByZXR1cm5lZEJvb2tzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmxvYWRGcm9tU3RvcmFnZShLRVkpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuZWRCb29rcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBpZiAoIXJldHVybmVkQm9va3MpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdG9yYWdlJyk7CiAgICAgICAgICAgIGJvb2tzID0gcmV0dXJuZWRCb29rczsKICAgICAgICAgICAgVXRpbHMuc2F2ZVRvU3RvcmFnZShLRVksIGJvb2tzKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYm9va3MpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgcmV0dXJuIEF4aW9zLmdldChCQVNFX1VSTCk7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgcmV0dXJuZWRCb29rcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXR1cm5lZEJvb2tzOiAnLCByZXR1cm5lZEJvb2tzKTsKICAgICAgICAgICAgYm9va3MgPSByZXR1cm5lZEJvb2tzLmRhdGE7CiAgICAgICAgICAgIFV0aWxzLnNhdmVUb1N0b3JhZ2UoS0VZLCBib29rcyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGJvb2tzKTsKCiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX3F1ZXJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGFkZFJldmlldyhfeCwgX3gyKSB7CiAgcmV0dXJuIF9hZGRSZXZpZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2FkZFJldmlldygpIHsKICBfYWRkUmV2aWV3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihib29rSWQsIHJldmlldykgewogICAgdmFyIGN1cnJCb29rOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZ2V0QnlJZChib29rSWQpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY3VyckJvb2sgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgcmV2aWV3LmlkID0gVXRpbHMuZ2V0UmFuZG9tSWQoKTsKCiAgICAgICAgICAgIGlmICghY3VyckJvb2sucmV2aWV3cykgewogICAgICAgICAgICAgIGN1cnJCb29rLnJldmlld3MgPSBbcmV2aWV3XTsKICAgICAgICAgICAgICBVdGlscy5zYXZlVG9TdG9yYWdlKEtFWSwgYm9va3MpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBwcmV2IFJldmlld3MgYm9va3M6ICcsIGJvb2tzKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjdXJyQm9vay5yZXZpZXdzLnB1c2gocmV2aWV3KTsKICAgICAgICAgICAgICBVdGlscy5zYXZlVG9TdG9yYWdlKEtFWSwgYm9va3MpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdib29rcyBhZnRlciByZXZpZXcgc2F2ZSBhcmU6ICcsIGJvb2tzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2FkZFJldmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiByZW1vdmVSZXZpZXcoX3gzLCBfeDQpIHsKICByZXR1cm4gX3JlbW92ZVJldmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfcmVtb3ZlUmV2aWV3KCkgewogIF9yZW1vdmVSZXZpZXcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGJvb2tJZCwgcmV2aWV3KSB7CiAgICB2YXIgY3VyckJvb2ssIHJldklkeDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGdldEJ5SWQoYm9va0lkKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGN1cnJCb29rID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmVSZXZpZXctYm9va0lkOiAnLCBib29rSWQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlUmV2aWV3LWN1cnJCb29rOiAnLCBjdXJyQm9vayk7CiAgICAgICAgICAgIHJldklkeCA9IGN1cnJCb29rLnJldmlld3MuZmluZEluZGV4KGZ1bmN0aW9uIChyZXYpIHsKICAgICAgICAgICAgICByZXR1cm4gcmV2LmlkID09PSByZXZpZXcuaWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjdXJyQm9vay5yZXZpZXdzLnNwbGljZShyZXZJZHgsIDEpOwogICAgICAgICAgICBVdGlscy5zYXZlVG9TdG9yYWdlKEtFWSwgYm9va3MpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwogIHJldHVybiBfcmVtb3ZlUmV2aWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldEJ5SWQoX3g1KSB7CiAgcmV0dXJuIF9nZXRCeUlkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRCeUlkKCkgewogIF9nZXRCeUlkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChib29rSWQpIHsKICAgIHZhciBjdXJyQm9vazsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGJvb2tzLmZpbmQoZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICAgICAgICByZXR1cm4gYm9vay5pZCA9PT0gYm9va0lkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGN1cnJCb29rID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUoY3VyckJvb2spKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRCeUlkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGFkZEdvb2dsZUJvb2soX3g2KSB7CiAgcmV0dXJuIF9hZGRHb29nbGVCb29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9hZGRHb29nbGVCb29rKCkgewogIF9hZGRHb29nbGVCb29rID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShib29rKSB7CiAgICB2YXIgY29udmVydGVkQm9vazsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIG5ldyBDb252ZXJ0ZWRCb29rKGJvb2spOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY29udmVydGVkQm9vayA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICBib29rcy5wdXNoKGNvbnZlcnRlZEJvb2spOwogICAgICAgICAgICBVdGlscy5zYXZlVG9TdG9yYWdlKEtFWSwgYm9va3MpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgY29udmVydGVkQm9vayk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwogIHJldHVybiBfYWRkR29vZ2xlQm9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBDb252ZXJ0ZWRCb29rKGJvb2spIHsKICB2YXIgY3VyckJvb2sgPSB7fTsKICBjdXJyQm9vay5pZCA9IGJvb2suaWQ7CiAgY3VyckJvb2sudGl0bGUgPSBib29rLnZvbHVtZUluZm8udGl0bGU7CiAgY3VyckJvb2suc3VidGl0bGUgPSBib29rLnZvbHVtZUluZm8uc3VidGl0bGU7CiAgY3VyckJvb2suYXV0aG9ycyA9IGJvb2sudm9sdW1lSW5mby5hdXRob3JzOwogIGN1cnJCb29rLnB1Ymxpc2hlZERhdGUgPSBib29rLnZvbHVtZUluZm8ucHVibGlzaGVkRGF0ZTsKICBjdXJyQm9vay5kZXNjcmlwdGlvbiA9IGJvb2sudm9sdW1lSW5mby5kZXNjcmlwdGlvbjsKICBjdXJyQm9vay5wYWdlQ291bnQgPSBib29rLnZvbHVtZUluZm8ucGFnZUNvdW50OwogIGN1cnJCb29rLmNhdGVnb3JpZXMgPSBib29rLnZvbHVtZUluZm8uY2F0ZWdvcmllczsKICBjdXJyQm9vay5saXN0UHJpY2UgPSB7CiAgICBpc09uU2FsZTogYm9vay5zYWxlSW5mby5zYWxlYWJpbGl0eSA9PT0gJ0ZSRUUnID8gJ2ZyZWUnIDogZmFsc2UsCiAgICBjdXJyZW5jeUNvZGU6IGJvb2suc2FsZUluZm8uY291bnRyeSwKICAgIGFtb3VudDogYm9vay5zYWxlSW5mby5saXN0UHJpY2UgPyBib29rLnNhbGVJbmZvLmxpc3RQcmljZS5hbW91bnQgOiAnJwogIH07CiAgYm9vay52b2x1bWVJbmZvLmltYWdlTGlua3MgPyBjdXJyQm9vay50aHVtYm5haWwgPSBib29rLnZvbHVtZUluZm8uaW1hZ2VMaW5rcy50aHVtYm5haWwgOiAnJzsKICBjdXJyQm9vay5sYW5ndWFnZSA9IGJvb2sudm9sdW1lSW5mby5sYW5ndWFnZTsKICByZXR1cm4gY3VyckJvb2s7Cn0KCmZ1bmN0aW9uIGZpbmROZXh0Qm9vayhfeDcpIHsKICByZXR1cm4gX2ZpbmROZXh0Qm9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZmluZE5leHRCb29rKCkgewogIF9maW5kTmV4dEJvb2sgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGJvb2tJZCkgewogICAgdmFyIGN1cnJCb29rLCBpZHgsIG5leHRCb29rOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZ2V0QnlJZChib29rSWQpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY3VyckJvb2sgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgaWR4ID0gYm9va3MuZmluZEluZGV4KGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGJvb2suaWQgPT09IGN1cnJCb29rLmlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbmV4dEJvb2sgPSBib29rc1tpZHggKyAxXTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG5leHRCb29rKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU2KTsKICB9KSk7CiAgcmV0dXJuIF9maW5kTmV4dEJvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["F:/Dev/Coding Academy ex/Day107-VueWorkshop/miss-book/frontend/src/services/bookService.js"],"names":["Utils","Axios","books","query","getById","addReview","removeReview","addGoogleBook","findNextBook","KEY","BASE_URL","loadFromStorage","returnedBooks","console","log","saveToStorage","get","data","bookId","review","currBook","id","getRandomId","reviews","push","revIdx","findIndex","rev","splice","find","book","Promise","resolve","ConvertedBook","convertedBook","title","volumeInfo","subtitle","authors","publishedDate","description","pageCount","categories","listPrice","isOnSale","saleInfo","saleability","currencyCode","country","amount","imageLinks","thumbnail","language","idx","nextBook"],"mappings":"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","sourcesContent":["import { Utils } from '../services/utils.service.js';\r\nimport Axios from \"axios\"\r\n\r\nexport default {\r\n  books,\r\n  query,\r\n  getById,\r\n  addReview,\r\n  removeReview,\r\n  addGoogleBook,\r\n  findNextBook\r\n}\r\n\r\nconst KEY = 'books'\r\n\r\nconst BASE_URL = 'http://localhost:3030/api/books';\r\nvar books = null;\r\n\r\n\r\n\r\nasync function query() {\r\n  let returnedBooks = await Utils.loadFromStorage(KEY)\r\n  if (returnedBooks) {\r\n    console.log('Storage')\r\n    books = returnedBooks\r\n    Utils.saveToStorage(KEY,books)\r\n    return books\r\n  } else {\r\n     returnedBooks = await Axios.get(BASE_URL)\r\n    console.log('returnedBooks: ',returnedBooks)\r\n    books = returnedBooks.data\r\n    Utils.saveToStorage(KEY, books)\r\n    return books\r\n}\r\n\r\n}\r\n\r\nasync function addReview(bookId, review) {\r\n  const currBook = await getById(bookId)\r\n  review.id = Utils.getRandomId()\r\n  if (!currBook.reviews) {\r\n    currBook.reviews = [review]\r\n    Utils.saveToStorage(KEY, books)\r\n    console.log('no prev Reviews books: ', books)\r\n\r\n  } else {\r\n    currBook.reviews.push(review)\r\n    Utils.saveToStorage(KEY, books)\r\n    console.log('books after review save are: ', books)\r\n  }\r\n}\r\n\r\nasync function removeReview(bookId, review) {\r\n  const currBook = await getById(bookId)\r\n  console.log('removeReview-bookId: ', bookId)\r\n  console.log('removeReview-currBook: ', currBook)\r\n  const revIdx = currBook.reviews.findIndex(rev => rev.id === review.id)\r\n  currBook.reviews.splice(revIdx, 1)\r\n  Utils.saveToStorage(KEY, books)\r\n  return\r\n}\r\n\r\nasync function getById(bookId) {\r\n  // let currBooks = await query()\r\n  // let currBook = await currBooks.find(book => book.id === bookId)\r\n  // console.log('getById found book: ', currBook)\r\n  // return Promise.resolve(currBook)\r\n  let currBook = await books.find(book => book.id === bookId)\r\n  return Promise.resolve(currBook)\r\n}\r\n\r\n\r\nasync function addGoogleBook(book) {\r\n  var convertedBook = await new ConvertedBook(book)\r\n  books.push(convertedBook)\r\n  Utils.saveToStorage(KEY, books)\r\n  return convertedBook\r\n}\r\n\r\nfunction ConvertedBook(book) {\r\n  const currBook = {}\r\n  currBook.id = book.id\r\n  currBook.title = book.volumeInfo.title\r\n  currBook.subtitle = book.volumeInfo.subtitle\r\n  currBook.authors = book.volumeInfo.authors\r\n  currBook.publishedDate = book.volumeInfo.publishedDate\r\n  currBook.description = book.volumeInfo.description\r\n  currBook.pageCount = book.volumeInfo.pageCount\r\n  currBook.categories = book.volumeInfo.categories\r\n  currBook.listPrice = {\r\n    isOnSale: book.saleInfo.saleability === 'FREE' ? 'free' : false,\r\n    currencyCode: book.saleInfo.country,\r\n    amount: book.saleInfo.listPrice ? book.saleInfo.listPrice.amount : ''\r\n  }\r\n  book.volumeInfo.imageLinks ? currBook.thumbnail = book.volumeInfo.imageLinks.thumbnail : ''\r\n  currBook.language = book.volumeInfo.language\r\n  return currBook\r\n}\r\n\r\nasync function findNextBook(bookId) {\r\n  const currBook = await getById(bookId)\r\n  const idx = books.findIndex(book => book.id === currBook.id)\r\n  const nextBook = books[idx + 1]\r\n  return nextBook\r\n}\r\n"]}]}