{"remainingRequest":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\babel-loader\\lib\\index.js!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\src\\views\\bookDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\src\\views\\bookDetails.vue","mtime":1592934295964},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Dev\\Coding Academy ex\\Day107-VueWorkshop\\miss-book\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGxvbmdUZXh0IGZyb20gIi4uL2NvbXBvbmVudHMvbG9uZ1RleHQiOwppbXBvcnQgYWRkUmV2aWV3IGZyb20gIi4uL2NvbXBvbmVudHMvYWRkUmV2aWV3IjsKaW1wb3J0IGJvb2tTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL2Jvb2tTZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJib29rRGV0YWlscyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IG51bGwsCiAgICAgIHNob3dSZXZpZXc6IGZhbHNlLAogICAgICByZXZpZXdzOiBbXQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGxvbmdUZXh0OiBsb25nVGV4dCwKICAgIGFkZFJldmlldzogYWRkUmV2aWV3CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRSZXZpZXc6IGZ1bmN0aW9uIGFkZFJldmlldyhyZXZpZXcpIHsKICAgICAgdGhpcy5jaGFuZ2VTdG9yZSgpOwogICAgICB2YXIgYm9va0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICBib29rU2VydmljZS5hZGRSZXZpZXcoYm9va0lkLCByZXZpZXcpOwogICAgICB0aGlzLnNob3dSZXZpZXcgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRDdXJyUmV2aWV3cygpOwogICAgfSwKICAgIGNoYW5nZVN0b3JlOiBmdW5jdGlvbiBjaGFuZ2VTdG9yZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVNuYWNrQmFyU3RhdHVzJywgdHJ1ZSk7CiAgICB9LAogICAgcmVtb3ZlUmV2aWV3OiBmdW5jdGlvbiByZW1vdmVSZXZpZXcocmV2aWV3KSB7CiAgICAgIHZhciBib29rSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIGJvb2tTZXJ2aWNlLnJlbW92ZVJldmlldyhib29rSWQsIHJldmlldyk7CiAgICB9LAogICAgZ2V0Q3VyclJldmlld3M6IGZ1bmN0aW9uIGdldEN1cnJSZXZpZXdzKCkgewogICAgICB0aGlzLmJvb2sucmV2aWV3cyA/IHRoaXMucmV2aWV3cyA9IHRoaXMuYm9vay5yZXZpZXdzIDogW107CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVhZFN0YXR1czogZnVuY3Rpb24gcmVhZFN0YXR1cygpIHsKICAgICAgdmFyIHBhZ2VDb3VudCA9IHRoaXMuYm9vay5wYWdlQ291bnQ7CgogICAgICBpZiAocGFnZUNvdW50ID4gNTAwKSB7CiAgICAgICAgcmV0dXJuICJMb25nIHJlYWRpbmciOwogICAgICB9CgogICAgICBpZiAocGFnZUNvdW50ID4gMjAwKSB7CiAgICAgICAgcmV0dXJuICJEZWNlbnQgUmVhZGluZyI7CiAgICAgIH0KCiAgICAgIGlmIChwYWdlQ291bnQgPCAxMDApIHsKICAgICAgICByZXR1cm4gIkxpZ2h0IFJlYWRpbmciOwogICAgICB9CgogICAgICByZXR1cm4gIk1lZGl1bSBSZWFkaW5nIjsKICAgIH0sCiAgICBib29rQWdlOiBmdW5jdGlvbiBib29rQWdlKCkgewogICAgICB2YXIgYm9va0FnZSA9IHRoaXMuYm9vay5wdWJsaXNoZWREYXRlOwogICAgICB2YXIgY3VyclllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciB5ZWFyc0RpZmZlcmVuY2UgPSBjdXJyWWVhciAtIGJvb2tBZ2U7CiAgICAgIGlmICh5ZWFyc0RpZmZlcmVuY2UgPiAxMCkgcmV0dXJuICJWZXRlcmFuIjsKICAgICAgaWYgKHllYXJzRGlmZmVyZW5jZSA8IDEpIHJldHVybiAiTmV3IjsKICAgICAgcmV0dXJuIHllYXJzRGlmZmVyZW5jZSArICIgeWVhcnMgYWdvIjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgYm9va0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgYm9va1NlcnZpY2UuZ2V0QnlJZChib29rSWQpLnRoZW4oZnVuY3Rpb24gKGJvb2spIHsKICAgICAgX3RoaXMuYm9vayA9IGJvb2s7CgogICAgICBfdGhpcy5nZXRDdXJyUmV2aWV3cygpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["bookDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA,OAAA,QAAA,MAAA,wBAAA;AACA,OAAA,SAAA,MAAA,yBAAA;AACA,OAAA,WAAA,MAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,SAAA,EAAA;AAFA,GATA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,MADA,EACA;AACA,WAAA,WAAA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,MAAA,WAAA,CAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,cAAA;AACA,KAPA;AAQA,IAAA,WARA,yBAQA;AAEA,WAAA,MAAA,CAAA,QAAA,CAAA,sBAAA,EAAA,IAAA;AACA,KAXA;AAYA,IAAA,YAZA,wBAYA,MAZA,EAYA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,MAAA,WAAA,CAAA,YAAA,CAAA,MAAA,EAAA,MAAA;AACA,KAfA;AAgBA,IAAA,cAhBA,4BAgBA;AACA,WAAA,IAAA,CAAA,OAAA,GAAA,KAAA,OAAA,GAAA,KAAA,IAAA,CAAA,OAAA,GAAA,EAAA;AACA;AAlBA,GAbA;AAiCA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,SAAA,GAAA,KAAA,IAAA,CAAA,SAAA;;AACA,UAAA,SAAA,GAAA,GAAA,EAAA;AACA,eAAA,cAAA;AACA;;AACA,UAAA,SAAA,GAAA,GAAA,EAAA;AACA,eAAA,gBAAA;AACA;;AACA,UAAA,SAAA,GAAA,GAAA,EAAA;AACA,eAAA,eAAA;AACA;;AACA,aAAA,gBAAA;AACA,KAbA;AAcA,IAAA,OAdA,qBAcA;AACA,UAAA,OAAA,GAAA,KAAA,IAAA,CAAA,aAAA;AACA,UAAA,QAAA,GAAA,IAAA,IAAA,GAAA,WAAA,EAAA;AACA,UAAA,eAAA,GAAA,QAAA,GAAA,OAAA;AACA,UAAA,eAAA,GAAA,EAAA,EAAA,OAAA,SAAA;AACA,UAAA,eAAA,GAAA,CAAA,EAAA,OAAA,KAAA;AACA,aAAA,eAAA,GAAA,YAAA;AACA;AArBA,GAjCA;AAwDA,EAAA,OAxDA,qBAwDA,CAAA,CAxDA;AAyDA,EAAA,OAzDA,qBAyDA;AAAA;;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,IAAA,WAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,cAAA;AACA,KAHA;AAIA;AA/DA,CAAA","sourcesContent":["<template>\r\n  <p v-if=\"!book\">loading...</p>\r\n  <div\r\n    v-else\r\n    class=\"bookDetails d-flex flex-column align-center justify-space-around\"\r\n  >\r\n    <v-card class=\"mx-auto my-12\" max-width=\"800\" width=\"100%\">\r\n      <v-img height=\"300\" :src=\"book.thumbnail\">\r\n        <v-chip\r\n          v-if=\"book.listPrice.isOnSale\"\r\n          class=\"ma-4\"\r\n          color=\"red\"\r\n          text-color=\"white\"\r\n        >\r\n          <v-avatar left>\r\n            <v-icon>mdi-sale</v-icon>\r\n          </v-avatar>\r\n          <span class=\"font-weight-bold subtitle-1\">On Sale!</span>\r\n        </v-chip>\r\n      </v-img>\r\n      <v-card-title\r\n        >{{ book.title.toUpperCase() }}\r\n        <v-spacer></v-spacer>\r\n        {{ bookAge }}\r\n      </v-card-title>\r\n      <v-card-subtitle>\r\n        <span class=\"font-weight-bold\">Authors: </span\r\n        >{{ book.authors.join(\" \") }}\r\n        <div>\r\n          <span class=\"font-weight-bold\">Categories: </span\r\n          >{{ book.categories.join(\" \") }}\r\n        </div>\r\n      </v-card-subtitle>\r\n      <v-card-text>\r\n        <span class=\"font-weight-bold\">Description: </span>\r\n        <long-text :txt=\"book.description\"></long-text>\r\n        <div>\r\n          <span class=\"font-weight-bold\">Language: </span>{{ book.language }}\r\n        </div>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <span>{{ readStatus }}</span>\r\n        <v-spacer></v-spacer>\r\n        <span class=\"font-weight-bold\">Price: </span>\r\n        <span\r\n          class=\"font-weight-bold\"\r\n          :class=\"{\r\n            redColor: book.listPrice.amount > 150,\r\n            greenColor: book.listPrice.amount < 20,\r\n          }\"\r\n        >\r\n          {{ book.listPrice.amount }}\r\n        </span>\r\n      </v-card-actions>\r\n    </v-card>\r\n    <div class=\"reviews-container\">\r\n      <div class=\"add-review-container d-flex justify-center\">\r\n        <div>\r\n          <v-btn @click=\"showReview = !showReview\">Add-Review</v-btn>\r\n        </div>\r\n        <addReview @addReview=\"addReview\" v-if=\"showReview\"></addReview>\r\n      </div>\r\n      <div\r\n        class=\"review-card d-flex justify-space-between\"\r\n        :key=\"idx\"\r\n        v-for=\"(review, idx) in reviews\"\r\n      >\r\n        <div class=\"d-flex flex-column\">\r\n          <div class=\"name-date d-flex justify-space-between\">\r\n            <div class=\"d-flex\">\r\n              <p class=\"bold\">name:</p>\r\n              <p>{{ review.name }}</p>\r\n            </div>\r\n            <div class=\"d-flex\">\r\n              <p class=\"bold\">date:</p>\r\n              <p>{{ review.date }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex\">\r\n            <p class=\"bold\">review:</p>\r\n            <p>{{ review.txt }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"div\">\r\n          <v-btn @click=\"removeReview(review)\">X</v-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport longText from \"../components/longText\";\r\nimport addReview from \"../components/addReview\";\r\nimport bookService from \"../services/bookService.js\";\r\nexport default {\r\n  name: \"bookDetails\",\r\n  data() {\r\n    return {\r\n      book: null,\r\n      showReview: false,\r\n      reviews: [],\r\n    };\r\n  },\r\n  components: {\r\n    longText,\r\n    addReview,\r\n  },\r\n  methods: {\r\n    addReview(review) {\r\n      this.changeStore()\r\n      const bookId = this.$route.params.id;\r\n      bookService.addReview(bookId, review);\r\n      this.showReview = false;\r\n      this.getCurrReviews();\r\n    },\r\n    changeStore(){\r\n\r\n      this.$store.dispatch('updateSnackBarStatus',true)\r\n    },\r\n    removeReview(review) {\r\n      const bookId = this.$route.params.id;\r\n      bookService.removeReview(bookId, review);\r\n    },\r\n    getCurrReviews() {\r\n      this.book.reviews ? (this.reviews = this.book.reviews) : [];\r\n    },\r\n  },\r\n  computed: {\r\n    readStatus() {\r\n      let pageCount = this.book.pageCount;\r\n      if (pageCount > 500) {\r\n        return \"Long reading\";\r\n      }\r\n      if (pageCount > 200) {\r\n        return \"Decent Reading\";\r\n      }\r\n      if (pageCount < 100) {\r\n        return \"Light Reading\";\r\n      }\r\n      return \"Medium Reading\";\r\n    },\r\n    bookAge() {\r\n      let bookAge = this.book.publishedDate;\r\n      let currYear = new Date().getFullYear();\r\n      let yearsDifference = currYear - bookAge;\r\n      if (yearsDifference > 10) return \"Veteran\";\r\n      if (yearsDifference < 1) return \"New\";\r\n      return yearsDifference + \" years ago\";\r\n    },\r\n  },\r\n  mounted() {},\r\n  created() {\r\n    let bookId = this.$route.params.id;\r\n    bookService.getById(bookId).then((book) => {\r\n      this.book = book;\r\n      this.getCurrReviews();\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.bold {\r\n  font-weight: 700;\r\n}\r\n.reviews-container {\r\n  width: 500px;\r\n  .add-review-container {\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n\r\n.review-card {\r\n  margin: 15px 0;\r\n  width: 500px;\r\n  padding: 20px;\r\n  background-color: lightgray;\r\n  .name-date {\r\n    width: 400px;\r\n    border-bottom: 1px solid rgb(255, 255, 255);\r\n    padding-right: 20px;\r\n  }\r\n}\r\n.greenColor {\r\n  color: green;\r\n}\r\n.redColor {\r\n  color: red;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}